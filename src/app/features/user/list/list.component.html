<app-loading-spinner [isLoading]='isLoading' message="Loading...">
  <div class="row">
    <mat-card class="col-md-10 offset-md-1 col-x2-12 col-lg-8 offset-lg-2" style="overflow-x: auto;">
      <mat-card-subtitle>
        Users
      </mat-card-subtitle>
      <mat-card-content>
        <mat-paginator (page)="changePage($event)" [pageIndex]='page' [length]="total" [pageSize]="rows" [pageSizeOptions]="[5, 10, 25, 100]" />
        <mat-table [dataSource]='dataSource'>
          <ng-container *ngFor="let column of columnDefs">
            <ng-container matColumnDef="{{column.property}}">
              <mat-header-cell mat-sort-header *matHeaderCellDef [style.min-width.px]='column.width'>
                <div>{{column.label}}</div>
                <mat-form-field>
                  <input type="text" [(ngModel)]='filter[column.property]' matInput placeholder="{{column.label}}">
                </mat-form-field>
              </mat-header-cell>
              <mat-cell *matCellDef="let element" [style.min-width.px]='column.width'>
                <app-editable-cell [element]="element" property="{{column.property}}">

                </app-editable-cell>
              </mat-cell>
            </ng-container>
          </ng-container>
        </mat-table>
      </mat-card-content>
  </div>
</app-loading-spinner>